(()=>{const e=document.getElementsByClassName("main")[0],t=document.getElementsByClassName("alter")[0],n=document.getElementsByClassName("data")[0],s=document.getElementsByTagName("p")[0],o=io("http://localhost:8500");o.id,o.on("connect",(()=>{const n={name_client:"TEST",id_client:o.id};o.emit("client_connection",n);const a=setInterval((()=>{o.emit("ask_vote_session"),o.on("is_vote_opened",(n=>{n.state?(t.style.display="none",e.style.display="block",s.textContent=n.text,clearInterval(a)):(e.style.display="none",t.style.display="block")}))}))})),window.addEventListener("beforeunload",(()=>{o.emit("client_disconnecting")})),o.on("is_vote_opened",(e=>{document.getElementsByTagName("p")[0],e.textContent=e})),n.addEventListener("submit",(e=>{e.preventDefault();const t=e.submitter;o.emit("vote",t.value),[...document.getElementsByTagName("button")].forEach((e=>{e!==t&&(e.disabled=!0,e.style.opacity=.5)}))}))})();